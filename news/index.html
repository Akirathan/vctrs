<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Changelog • vctrs</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Changelog" />
<meta property="og:image" content="https://vctrs.r-lib.org/logo.png" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script>


  </head>

  <body>
    <div class="container template-news">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">vctrs</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.99.9010</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/pillar.html">Printing vectors nicely in tibbles</a>
    </li>
    <li>
      <a href="../articles/s3-vector.html">S3 vectors</a>
    </li>
    <li>
      <a href="../articles/stability.html">Type and size stability</a>
    </li>
    <li>
      <a href="../articles/type-size.html">Prototypes and sizes</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/r-lib/vctrs">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1>Changelog <small></small></h1>
      <small>Source: <a href='https://github.com/r-lib/vctrs/blob/master/NEWS.md'><code>NEWS.md</code></a></small>
    </div>

    <div id="vctrs-development-version" class="section level1">
<h1 class="page-header">
<a href="#vctrs-development-version" class="anchor"></a>vctrs (development version)<small> Unreleased </small>
</h1>
<ul>
<li>
<p><code><a href="../reference/vec_cast.html">vec_cast()</a></code> is now restricted to the same conversions as <code><a href="../reference/vec_ptype2.html">vec_ptype2()</a></code> methods (<a href='https://github.com/r-lib/vctrs/issues/606'>#606</a>, <a href='https://github.com/r-lib/vctrs/issues/741'>#741</a>). This change is motivated by safety and performance:</p>
<ul>
<li><p>It is generally sloppy to generically convert arbitrary inputs to one type. Restricted coercions are more predictable and allow your code to fail earlier when there is a type issue.</p></li>
<li><p>When unrestricted conversions are useful, this is generally towards a known type. For example, <code><a href="https://glue.tidyverse.org/reference/glue.html">glue::glue()</a></code> needs to convert arbitrary inputs to the known character type. In this case, using double dispatch instead of a single dispatch generic like <code><a href="https://rdrr.io/r/base/character.html">as.character()</a></code> is wasteful.</p></li>
<li><p>To implement the useful semantics of coercible casts (already used in <code><a href="../reference/vec_slice.html">vec_assign()</a></code>), two double dispatch were needed. Now it can be done with one double dispatch by calling <code><a href="../reference/vec_cast.html">vec_cast()</a></code> directly.</p></li>
</ul>
</li>
<li>
<p><code><a href="../reference/vec_bind.html">vec_cbind()</a></code> now calls <code><a href="../reference/vec_cast.html">vec_restore()</a></code> on inputs emptied of their columns before computing the common type. This has consequences for data frame classes with special columns that devolve into simpler classes when the columns are subsetted out. These classes are now always simplified by <code><a href="../reference/vec_bind.html">vec_cbind()</a></code>.</p>
<p>For instance, column-binding a grouped data frame with a data frame now produces a tibble (the simplified class of a grouped data frame).</p>
</li>
<li><p>dplyr methods are now implemented for <code><a href="../reference/vec_cast.html">vec_restore()</a></code>, <code><a href="../reference/vec_ptype2.html">vec_ptype2()</a></code>, and <code><a href="../reference/vec_cast.html">vec_cast()</a></code>. The user-visible consequence (and breaking change) is that row-binding a grouped data frame and a data frame or tibble now returns a grouped data frame. It would previously return a tibble.</p></li>
<li>
<p>Double-dispatch methods for <code><a href="../reference/vec_ptype2.html">vec_ptype2()</a></code> and <code><a href="../reference/vec_cast.html">vec_cast()</a></code> are no longer inherited (<a href='https://github.com/r-lib/vctrs/issues/710'>#710</a>). Class implementers must implement one set of methods for each compatible class.</p>
<p>For example, a tibble subclass no longer inherits from the <code><a href="../reference/vec_ptype2.html">vec_ptype2()</a></code> methods between <code>tbl_df</code> and <code>data.frame</code>. This means that you explicitly need to implement <code><a href="../reference/vec_ptype2.html">vec_ptype2()</a></code> methods with <code>tbl_df</code> and <code>data.frame</code>.</p>
<p>This change requires a bit more work from class maintainers but is safer because the coercion hyerarchies are generally different from class hierarchies. See the S3 dispatch section of <code><a href="../reference/vec_ptype2.html">?vec_ptype2</a></code> for more information.</p>
</li>
<li>
<p>Double-dispatch methods for <code><a href="../reference/vec_ptype2.html">vec_ptype2()</a></code> and <code><a href="../reference/vec_cast.html">vec_cast()</a></code> are now easier to implement. vctrs takes care of implementing the default and unspecified methods. If you have implemented these methods, they can now be removed.</p>
<p>Also methods no longer have to worry about order of dispatch, for instance it is no longer needed to supply a second argument as in <code><a href="https://rdrr.io/r/base/UseMethod.html">UseMethod("vec_ptype2.mytype", y)</a></code>.</p>
<p>One consequence is that <code><a href="https://rdrr.io/r/base/UseMethod.html">NextMethod()</a></code> is now completely unsupported. This is for the best as it never worked correctly in a double-dispatch setting. Parent methods must now be called manually.</p>
</li>
<li><p>New <code><a href="../reference/vec-rep.html">vec_rep()</a></code> and <code><a href="../reference/vec-rep.html">vec_rep_each()</a></code> for repeating an entire vector and elements of a vector, respectively. These two functions provide a clearer interface for the functionality of <code><a href="../reference/vec_repeat.html">vec_repeat()</a></code>, which is now deprecated.</p></li>
<li><p><code><a href="../reference/vec_match.html">vec_match()</a></code> and <code><a href="../reference/vec_match.html">vec_in()</a></code> gain parameters for argument tags (<a href='https://github.com/r-lib/vctrs/issues/944'>#944</a>).</p></li>
<li><p>The <code>is.na&lt;-()</code> method for <code>vctrs_vctr</code> now supports numeric and character subscripts to indicate where to insert missing values (<a href='https://github.com/r-lib/vctrs/issues/947'>#947</a>).</p></li>
<li><p><code><a href="../reference/vec_bind.html">vec_rbind()</a></code> and <code><a href="../reference/vec_c.html">vec_c()</a></code> with data frame inputs now consistently preserve the names of list-columns, df-columns, and matrix-columns (<a href='https://github.com/r-lib/vctrs/issues/689'>#689</a>).</p></li>
<li><p>The internal version of <code><a href="../reference/vec_slice.html">vec_assign()</a></code> now has support for assigning names and inner names. For data frames, the names are assigned recursively.</p></li>
<li><p><code><a href="../reference/vec_cast.html">vec_restore()</a></code> no longer restores row names if the target is not a data frame. This fixes an issue where <code>POSIXlt</code> objects would carry a <code>row.names</code> attribute after a proxy/restore roundtrip.</p></li>
<li><p><code><a href="../reference/vec_as_subscript.html">vec_as_subscript()</a></code> now fails when the subscript is a matrix or an array, consistently with <code><a href="../reference/vec_as_location.html">vec_as_location()</a></code>.</p></li>
<li><p>Improved error messages in <code><a href="../reference/vec_as_location.html">vec_as_location()</a></code> when subscript is a matrix or array (<a href='https://github.com/r-lib/vctrs/issues/936'>#936</a>).</p></li>
<li><p>New <code><a href="../reference/vec_size.html">list_sizes()</a></code> for computing the size of every element in a list. <code><a href="../reference/vec_size.html">list_sizes()</a></code> is to <code><a href="../reference/vec_size.html">vec_size()</a></code> as <code><a href="https://rdrr.io/r/base/lengths.html">lengths()</a></code> is to <code><a href="https://rdrr.io/r/base/length.html">length()</a></code>, except that it only supports lists. Atomic vectors and data frames result in an error.</p></li>
<li>
<p>Improved support for foreign classes in the combining operations <code><a href="../reference/vec_c.html">vec_c()</a></code>, <code><a href="../reference/vec_bind.html">vec_rbind()</a></code>, and <code><a href="../reference/vec_chop.html">vec_unchop()</a></code>. A foreign class is a class that doesnât implement <code><a href="../reference/vec_ptype2.html">vec_ptype2()</a></code>. When all the objects to combine have the same foreign class, one of these fallbacks is invoked:</p>
<ul>
<li><p>If the class implements a <code><a href="https://rdrr.io/r/base/c.html">base::c()</a></code> method, the method is used for the combination. (FIXME: <code><a href="../reference/vec_bind.html">vec_rbind()</a></code> currently doesnât use this fallback.)</p></li>
<li><p>Otherwise if the objects have identical attributes and the same base type, we consider them to be compatible. The vectors are concatenated and the attributes are restored (<a href='https://github.com/r-lib/vctrs/issues/776'>#776</a>).</p></li>
</ul>
<p>These fallbacks do not make your class completely compatible with vctrs-powered packages, but they should help in many simple cases.</p>
</li>
<li><p><code><a href="../reference/vec_c.html">vec_c()</a></code> and <code><a href="../reference/vec_chop.html">vec_unchop()</a></code> now fall back to <code><a href="https://rdrr.io/r/base/c.html">base::c()</a></code> for S4 objects if the object doesnât implement <code><a href="../reference/vec_ptype2.html">vec_ptype2()</a></code> but sets an S4 <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> method (<a href='https://github.com/r-lib/vctrs/issues/919'>#919</a>).</p></li>
<li><p><code><a href="../reference/vec_as_location.html">vec_as_location2()</a></code> properly picks up <code>subscript_arg</code> (tidyverse/tibble<a href='https://github.com/r-lib/vctrs/issues/735'>#735</a>).</p></li>
<li><p><code><a href="../reference/vec_cast.html">vec_cast()</a></code> to and from data frames preserves the row names of inputs.</p></li>
<li><p><code><a href="../reference/vec_cast.html">vec_cast()</a></code> with data frames no longer uses inheritance (<a href='https://github.com/r-lib/vctrs/issues/710'>#710</a>).</p></li>
<li>
<p>The internal function <code>vec_names()</code> now returns row names if the input is a data frame. Similarly, <code>vec_set_names()</code> sets row names on data frames. This is part of a general effort at making row names the vector names of data frames in vctrs.</p>
<p>If necessary, the row names are repaired verbosely but without error to make them unique. This should be a mostly harmless change for users, but it could break unit tests in packages if they make assumptions about the row names.</p>
</li>
<li><p><code><a href="../reference/vec_slice.html">vec_assign()</a></code> gains <code>x_arg</code> and <code>value_arg</code> parameters (<a href='https://github.com/r-lib/vctrs/issues/918'>#918</a>).</p></li>
<li><p><code><a href="../reference/vec_group.html">vec_group_loc()</a></code>, which powers <code><a href="https://dplyr.tidyverse.org/reference/group_by.html">dplyr::group_by()</a></code>, now has more efficient vector access (<a href='https://github.com/r-lib/vctrs/issues/911'>#911</a>).</p></li>
<li><p><code><a href="../reference/vec_as_names.html">vec_as_names()</a></code> now has more informative error messages when names are not unique (<a href='https://github.com/r-lib/vctrs/issues/882'>#882</a>).</p></li>
<li><p>Improved support for vector-like S4 objects (<a href='https://github.com/r-lib/vctrs/issues/550'>#550</a>, <a href='https://github.com/r-lib/vctrs/issues/551'>#551</a>).</p></li>
<li><p>The base classes <code>AsIs</code> and <code>table</code> have vctrs methods (<a href='https://github.com/r-lib/vctrs/issues/904'>#904</a>, <a href='https://github.com/r-lib/vctrs/issues/906'>#906</a>).</p></li>
<li><p><code>POSIXlt</code> and <code>POSIXct</code> vectors are handled more consistently (<a href='https://github.com/r-lib/vctrs/issues/901'>#901</a>).</p></li>
<li><p><code><a href="../reference/new_data_frame.html">new_data_frame()</a></code> infers size from row names when <code>n = NULL</code> (<a href='https://github.com/r-lib/vctrs/issues/894'>#894</a>).</p></li>
</ul>
<div id="cran-results" class="section level2">
<h2 class="hasAnchor">
<a href="#cran-results" class="anchor"></a>CRAN results</h2>
<ul>
<li>Fixed clang-UBSAN error ânan is outside the range of representable values of type âintââ (<a href='https://github.com/r-lib/vctrs/issues/902'>#902</a>).</li>
</ul>
</div>
</div>
    <div id="vctrs-024" class="section level1">
<h1 class="page-header">
<a href="#vctrs-024" class="anchor"></a>vctrs 0.2.4<small> 2020-03-10 </small>
</h1>
<ul>
<li><p>Factors and dates methods are now implemented in C for efficiency.</p></li>
<li><p><code><a href="../reference/new_data_frame.html">new_data_frame()</a></code> now correctly updates attributes and supports merging of the <code>"names"</code> and <code>"row.names"</code> arguments (<a href='https://github.com/r-lib/vctrs/issues/883'>#883</a>).</p></li>
<li><p><code><a href="../reference/vec_match.html">vec_match()</a></code> gains an <code>na_equal</code> argument (<a href='https://github.com/r-lib/vctrs/issues/718'>#718</a>).</p></li>
<li><p><code><a href="../reference/vec_chop.html">vec_chop()</a></code>âs <code>indices</code> argument has been restricted to positive integer vectors. Character and logical subscripts havenât proven useful, and this aligns <code><a href="../reference/vec_chop.html">vec_chop()</a></code> with <code><a href="../reference/vec_chop.html">vec_unchop()</a></code>, for which only positive integer vectors make sense.</p></li>
<li><p>New <code><a href="../reference/vec_chop.html">vec_unchop()</a></code> for combining a list of vectors into a single vector. It is similar to <code><a href="../reference/vec_c.html">vec_c()</a></code>, but gives greater control over how the elements are placed in the output through the use of a secondary <code>indices</code> argument.</p></li>
<li><p>Breaking change: When <code>.id</code> is supplied, <code><a href="../reference/vec_bind.html">vec_rbind()</a></code> now creates the identifier column at the start of the data frame rather than at the end.</p></li>
<li><p><code>numeric_version</code> and <code>package_version</code> lists are now treated as vectors (<a href='https://github.com/r-lib/vctrs/issues/723'>#723</a>).</p></li>
<li><p><code><a href="../reference/vec_slice.html">vec_slice()</a></code> now properly handles symbols and S3 subscripts.</p></li>
<li><p><code><a href="../reference/vec_as_location.html">vec_as_location()</a></code> and <code><a href="../reference/vec_as_subscript.html">vec_as_subscript()</a></code> are now fully implemented in C for efficiency.</p></li>
<li><p><code><a href="../reference/vec_as_location.html">num_as_location()</a></code> gains a new argument, <code>zero</code>, for controlling whether to <code>"remove"</code>, <code>"ignore"</code>, or <code>"error"</code> on zero values (<a href='https://github.com/r-lib/vctrs/issues/852'>#852</a>).</p></li>
</ul>
</div>
    <div id="vctrs-023" class="section level1">
<h1 class="page-header">
<a href="#vctrs-023" class="anchor"></a>vctrs 0.2.3<small> 2020-02-20 </small>
</h1>
<ul>
<li><p>The main feature of this release is considerable performance improvements with factors and dates.</p></li>
<li><p><code><a href="../reference/vec_c.html">vec_c()</a></code> now falls back to <code><a href="https://rdrr.io/r/base/c.html">base::c()</a></code> if the vector doesnât implement <code><a href="../reference/vec_ptype2.html">vec_ptype2()</a></code> but implements <code><a href="https://rdrr.io/r/base/c.html">c()</a></code>. This should improve the compatibility of vctrs-based functions with foreign classes (<a href='https://github.com/r-lib/vctrs/issues/801'>#801</a>).</p></li>
<li><p><code><a href="../reference/new_data_frame.html">new_data_frame()</a></code> is now faster.</p></li>
<li><p>New <code><a href="../reference/vec_is_list.html">vec_is_list()</a></code> for detecting if a vector is a list in the vctrs sense. For instance, objects of class <code>lm</code> are not lists. In general, classes need to explicitly inherit from <code>"list"</code> to be considered as lists by vctrs.</p></li>
<li>
<p>Unspecified vectors of <code>NA</code> can now be assigned into a list (<a href='https://github.com/r-lib/vctrs/issues/819'>#819</a>).</p>
<pre><code>x &lt;- list(1, 2)
vec_slice(x, 1) &lt;- NA
x
#&gt; [[1]]
#&gt; NULL
#&gt;
#&gt; [[2]]
#&gt; 2</code></pre>
</li>
<li><p><code><a href="../reference/vec_ptype.html">vec_ptype()</a></code> now errors on scalar inputs (<a href='https://github.com/r-lib/vctrs/issues/807'>#807</a>).</p></li>
<li><p><code><a href="../reference/new_partial.html">vec_ptype_finalise()</a></code> is now recursive over all data frame types, ensuring that unspecified columns are correctly finalised to logical (<a href='https://github.com/r-lib/vctrs/issues/800'>#800</a>).</p></li>
<li><p><code><a href="../reference/vec_ptype.html">vec_ptype()</a></code> now correctly handles unspecified columns in data frames, and will always return an unspecified column type (<a href='https://github.com/r-lib/vctrs/issues/800'>#800</a>).</p></li>
<li><p><code><a href="../reference/vec_slice.html">vec_slice()</a></code> and <code><a href="../reference/vec_chop.html">vec_chop()</a></code> now work correctly with <code><a href="https://rdrr.io/pkg/bit64/man/bit64-package.html">bit64::integer64()</a></code> objects when an <code>NA</code> subscript is supplied. By extension, this means that <code><a href="../reference/vec_init.html">vec_init()</a></code> now works with these objects as well (<a href='https://github.com/r-lib/vctrs/issues/813'>#813</a>).</p></li>
<li><p><code><a href="../reference/vec_bind.html">vec_rbind()</a></code> now binds row names. When named inputs are supplied and <code>names_to</code> is <code>NULL</code>, the names define row names. If <code>names_to</code> is supplied, they are assigned in the column name as before.</p></li>
<li><p><code><a href="../reference/vec_bind.html">vec_cbind()</a></code> now binds row names if they are congruent across inputs. If the row names are not identical thatâs an error.</p></li>
<li><p>The <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> method for <code>vctrs_vctr</code> now throws an error when <code>recursive</code> or <code>use.names</code> is supplied (<a href='https://github.com/r-lib/vctrs/issues/791'>#791</a>).</p></li>
</ul>
</div>
    <div id="vctrs-022" class="section level1">
<h1 class="page-header">
<a href="#vctrs-022" class="anchor"></a>vctrs 0.2.2<small> 2020-01-24 </small>
</h1>
<ul>
<li><p>New <code><a href="../reference/vec_as_subscript.html">vec_as_subscript()</a></code> function to cast inputs to the base type of a subscript (logical, numeric, or character). <code><a href="../reference/vec_as_index.html">vec_as_index()</a></code> has been renamed to <code><a href="../reference/vec_as_location.html">vec_as_location()</a></code>. Use <code><a href="../reference/vec_as_location.html">num_as_location()</a></code> if you need more options to control how numeric subscripts are converted to a vector of locations.</p></li>
<li><p>New <code><a href="../reference/vec_as_subscript.html">vec_as_subscript2()</a></code>, <code><a href="../reference/vec_as_location.html">vec_as_location2()</a></code>, and <code><a href="../reference/vec_as_location.html">num_as_location2()</a></code> variants for validating scalar subscripts and locations (e.g.Â for indexing with <code><a href="https://rdrr.io/r/base/Extract.html">[[</a></code>).</p></li>
<li><p><code><a href="../reference/vec_as_location.html">vec_as_location()</a></code> now preserves names of its inputs if possible.</p></li>
<li>
<p><code><a href="../reference/vec_ptype2.html">vec_ptype2()</a></code> methods for base classes now prevent inheritance. This makes sense because the subtyping graph created by <code><a href="../reference/vec_ptype2.html">vec_ptype2()</a></code> methods is generally not the same as the inheritance relationships defined by S3 classes. For instance, subclasses are often a richer type than their superclasses, and should often be declared as supertypes (e.g.Â <code><a href="../reference/vec_ptype2.html">vec_ptype2()</a></code> should return the subclass).</p>
<p>We introduced this breaking change in a patch release because <code><a href="../reference/new_vctr.html">new_vctr()</a></code> now adds the base type to the class vector by default, which caused <code><a href="../reference/vec_ptype2.html">vec_ptype2()</a></code> to dispatch erroneously to the methods for base types. Weâll finish switching to this approach in vctrs 0.3.0 for the rest of the base S3 classes (dates, data frames, â¦).</p>
</li>
<li><p><code><a href="../reference/vec_equal.html">vec_equal_na()</a></code> now works with complex vectors.</p></li>
<li><p><code>vctrs_vctr</code> class gains an <code><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXlt()</a></code> method (<a href='https://github.com/r-lib/vctrs/issues/717'>#717</a>).</p></li>
<li><p><code><a href="../reference/vec_assert.html">vec_is()</a></code> now ignores names and row names (<a href='https://github.com/r-lib/vctrs/issues/707'>#707</a>).</p></li>
<li><p><code><a href="../reference/vec_slice.html">vec_slice()</a></code> now support Altvec vectors (<a href='https://github.com/jimhester'>@jimhester</a>, <a href='https://github.com/r-lib/vctrs/issues/696'>#696</a>).</p></li>
<li><p><code><a href="../reference/vec_proxy_equal.html">vec_proxy_equal()</a></code> is now applied recursively across the columns of data frames (<a href='https://github.com/r-lib/vctrs/issues/641'>#641</a>).</p></li>
<li><p><code><a href="../reference/vec_split.html">vec_split()</a></code> no longer returns the <code>val</code> column as a <code>list_of</code>. It is now returned as a bare list (<a href='https://github.com/r-lib/vctrs/issues/660'>#660</a>).</p></li>
<li><p>Complex numbers are now coercible with integer and double (<a href='https://github.com/r-lib/vctrs/issues/564'>#564</a>).</p></li>
<li><p>zeallot has been moved from Imports to Suggests, meaning that <code>%&lt;-%</code> is no longer re-exported from vctrs.</p></li>
<li><p><code><a href="../reference/vec_equal.html">vec_equal()</a></code> no longer propagates missing values when comparing list elements. This means that <code><a href="../reference/vec_equal.html">vec_equal(list(NULL), list(NULL))</a></code> will continue to return <code>NA</code> because <code>NULL</code> is the missing element for a list, but now <code><a href="../reference/vec_equal.html">vec_equal(list(NA), list(NA))</a></code> returns <code>TRUE</code> because the <code>NA</code> values are compared directly without checking for missingness.</p></li>
<li><p>Lists of expressions are now supported in <code><a href="../reference/vec_equal.html">vec_equal()</a></code> and functions that compare elements, such as <code><a href="../reference/vec_unique.html">vec_unique()</a></code> and <code><a href="../reference/vec_match.html">vec_match()</a></code>. This ensures that they work with the result of modeling functions like <code><a href="https://rdrr.io/r/stats/glm.html">glm()</a></code> and <code><a href="https://rdrr.io/pkg/mgcv/man/gam.html">mgcv::gam()</a></code> which store âfamilyâ objects containing expressions (<a href='https://github.com/r-lib/vctrs/issues/643'>#643</a>).</p></li>
<li><p><code><a href="../reference/new_vctr.html">new_vctr()</a></code> gains an experimental <code>inherit_base_type</code> argument which determines whether or not the class of the underlying type will be included in the class.</p></li>
<li><p><code><a href="../reference/list_of.html">list_of()</a></code> now inherits explicitly from âlistâ (<a href='https://github.com/r-lib/vctrs/issues/593'>#593</a>).</p></li>
<li><p><code><a href="../reference/vec_ptype.html">vec_ptype()</a></code> has relaxed default behaviour for base types; now if two vectors both inherit from (e.g.) âcharacterâ, the common type is also âcharacterâ (<a href='https://github.com/r-lib/vctrs/issues/497'>#497</a>).</p></li>
<li><p><code><a href="../reference/vec_equal.html">vec_equal()</a></code> now correctly treats <code>NULL</code> as the missing value element for lists (<a href='https://github.com/r-lib/vctrs/issues/653'>#653</a>).</p></li>
<li><p><code><a href="../reference/vec_cast.html">vec_cast()</a></code> now casts data frames to lists rowwise, i.e.Â to a list of data frames of size 1. This preserves the invariant of <code>vec_size(vec_cast(x, to)) == vec_size(x)</code> (<a href='https://github.com/r-lib/vctrs/issues/639'>#639</a>).</p></li>
<li><p>Positive and negative 0 are now considered equivalent by all functions that check for equality or uniqueness (<a href='https://github.com/r-lib/vctrs/issues/637'>#637</a>).</p></li>
<li><p>New experimental functions <code><a href="../reference/vec_group.html">vec_group_rle()</a></code> for returning run length encoded groups; <code><a href="../reference/vec_group.html">vec_group_id()</a></code> for constructing group identifiers from a vector; <code><a href="../reference/vec_group.html">vec_group_loc()</a></code> for computing the locations of unique groups in a vector (<a href='https://github.com/r-lib/vctrs/issues/514'>#514</a>).</p></li>
<li><p>New <code><a href="../reference/vec_chop.html">vec_chop()</a></code> for repeatedly slicing a vector. It efficiently captures the pattern of <code>map(indices, vec_slice, x = x)</code>.</p></li>
<li><p>Support for multiple character encodings has been added to functions that compare elements within a single vector, such as <code><a href="../reference/vec_unique.html">vec_unique()</a></code>, and across multiple vectors, such as <code><a href="../reference/vec_match.html">vec_match()</a></code>. When multiple encodings are encountered, a translation to UTF-8 is performed before any comparisons are made (<a href='https://github.com/r-lib/vctrs/issues/600'>#600</a>, <a href='https://github.com/r-lib/vctrs/issues/553'>#553</a>).</p></li>
<li><p>Equality and ordering methods are now implemented for raw and complex vectors (<a href='https://github.com/romainfrancois'>@romainfrancois</a>).</p></li>
</ul>
</div>
    <div id="vctrs-021" class="section level1">
<h1 class="page-header">
<a href="#vctrs-021" class="anchor"></a>vctrs 0.2.1<small> 2019-12-17 </small>
</h1>
<p>Maintenance release for CRAN checks.</p>
</div>
    <div id="vctrs-020" class="section level1">
<h1 class="page-header">
<a href="#vctrs-020" class="anchor"></a>vctrs 0.2.0<small> 2019-07-05 </small>
</h1>
<p>With the 0.2.0 release, many vctrs functions have been rewritten with native C code to improve performance. Functions like <code><a href="../reference/vec_c.html">vec_c()</a></code> and <code><a href="../reference/vec_bind.html">vec_rbind()</a></code> should now be fast enough to be used in packages. This is an ongoing effort, for instance the handling of factors and dates has not been rewritten yet. These classes still slow down vctrs primitives.</p>
<p>The API in 0.2.0 has been updated, please see a list of breaking changes below. vctrs has now graduated from experimental to a maturing package (see the <a href="https://www.tidyverse.org/lifecycle/">lifecycle of tidyverse packages</a>). Please note that API changes are still planned for future releases, for instance <code><a href="../reference/vec_ptype2.html">vec_ptype2()</a></code> and <code><a href="../reference/vec_cast.html">vec_cast()</a></code> might need to return a sentinel instead of failing with an error when there is no common type or possible cast.</p>
<div id="breaking-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#breaking-changes" class="anchor"></a>Breaking changes</h2>
<ul>
<li><p>Lossy casts now throw errors of type <code>vctrs_error_cast_lossy</code>. Previously these were warnings. You can suppress these errors selectively with <code><a href="../reference/vctrs-conditions.html">allow_lossy_cast()</a></code> to get the partial cast results. To implement your own lossy cast operation, call the new exported function <code><a href="../reference/vctrs-conditions.html">maybe_lossy_cast()</a></code>.</p></li>
<li>
<p><code><a href="../reference/vec_c.html">vec_c()</a></code> now fails when an input is supplied with a name but has internal names or is length &gt; 1:</p>
<pre><code><a href="../reference/vec_c.html">vec_c(foo = c(a = 1))
#&gt; Error: Can't merge the outer name `foo` with a named vector.
#&gt; Please supply a `.name_spec` specification.

vec_c(foo = 1:3)
#&gt; Error: Can't merge the outer name `foo` with a vector of length &gt; 1.
#&gt; Please supply a `.name_spec` specification.</a></code></pre>
<p>You can supply a name specification that describes how to combine the external name of the input with its internal names or positions:</p>
<pre><code><a href="../reference/vec_c.html"># Name spec as glue string:
vec_c(foo = c(a = 1), .name_spec = "{outer}_{inner}")

# Name spec as a function:
vec_c(foo = c(a = 1), .name_spec = function(outer, inner) paste(outer, inner, sep = "_"))
vec_c(foo = c(a = 1), .name_spec = ~ paste(.x, .y, sep = "_"))</a></code></pre>
</li>
<li><p><code><a href="../reference/vec_empty.html">vec_empty()</a></code> has been renamed to <code><a href="../reference/vec_size.html">vec_is_empty()</a></code>.</p></li>
<li><p><code>vec_dim()</code> and <code>vec_dims()</code> are no longer exported.</p></li>
<li><p><code>vec_na()</code> has been renamed to <code><a href="../reference/vec_init.html">vec_init()</a></code>, as the primary use case is to initialize an output container.</p></li>
<li><p><code>vec_slice&lt;-</code> is now type stable (<a href='https://github.com/r-lib/vctrs/issues/140'>#140</a>). It always returns the same type as the LHS. If needed, the RHS is cast to the correct type, but only if both inputs are coercible. See examples in <code><a href="../reference/vec_slice.html">?vec_slice</a></code>.</p></li>
<li>
<p>We have renamed the <code>type</code> particle to <code>ptype</code>:</p>
<ul>
<li>
<code><a href="../reference/vec_type.html">vec_type()</a></code> =&gt; <code><a href="../reference/vec_ptype.html">vec_ptype()</a></code>
</li>
<li>
<code><a href="../reference/vec_type.html">vec_type2()</a></code> =&gt; <code><a href="../reference/vec_ptype2.html">vec_ptype2()</a></code>
</li>
<li>
<code><a href="../reference/vec_type.html">vec_type_common()</a></code> =&gt; <code><a href="../reference/vec_ptype.html">vec_ptype_common()</a></code>
</li>
</ul>
<p>Consequently, <code><a href="../reference/vec_ptype.html">vec_ptype()</a></code> was renamed to <code><a href="../reference/vec_ptype.html">vec_ptype_show()</a></code>.</p>
</li>
</ul>
</div>
<div id="new-features" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features" class="anchor"></a>New features</h2>
<ul>
<li>
<p>New <code><a href="../reference/vec_data.html">vec_proxy()</a></code> generic. This is the main customisation point in vctrs along with <code><a href="../reference/vec_cast.html">vec_restore()</a></code>. You should only implement it when your type is designed around a non-vector class (atomic vectors, bare lists, data frames). In this case, <code><a href="../reference/vec_data.html">vec_proxy()</a></code> should return such a vector class. The vctrs operations will be applied on the proxy and <code><a href="../reference/vec_cast.html">vec_restore()</a></code> is called to restore the original representation of your type.</p>
<p>The most common case where you need to implement <code><a href="../reference/vec_data.html">vec_proxy()</a></code> is for S3 lists. In vctrs, S3 lists are treated as scalars by default. This way we donât treat objects like model fits as vectors. To prevent vctrs from treating your S3 list as a scalar, unclass it from the <code><a href="../reference/vec_data.html">vec_proxy()</a></code> method. For instance here is the definition for <code>list_of</code>:</p>
<pre><code>#' <a href='https://github.com/export'>@export</a>
vec_proxy.vctrs_list_of &lt;- function(x) {
  unclass(x)
}</code></pre>
<p>If you inherit from <code>vctrs_vctr</code> or <code>vctrs_rcrd</code> you donât need to implement <code><a href="../reference/vec_data.html">vec_proxy()</a></code>.</p>
</li>
<li><p><code><a href="../reference/vec_c.html">vec_c()</a></code>, <code><a href="../reference/vec_bind.html">vec_rbind()</a></code>, and <code><a href="../reference/vec_bind.html">vec_cbind()</a></code> gain a <code>.name_repair</code> argument (<a href='https://github.com/r-lib/vctrs/issues/227'>#227</a>, <a href='https://github.com/r-lib/vctrs/issues/229'>#229</a>).</p></li>
<li>
<p><code><a href="../reference/vec_c.html">vec_c()</a></code>, <code><a href="../reference/vec_bind.html">vec_rbind()</a></code>, <code><a href="../reference/vec_bind.html">vec_cbind()</a></code>, and all functions relying on <code><a href="../reference/vec_ptype.html">vec_ptype_common()</a></code> now have more informative error messages when some of the inputs have nested data frames that are not convergent:</p>
<pre><code>df1 &lt;- tibble(foo = tibble(bar = tibble(x = 1:3, y = letters[1:3])))
df2 &lt;- tibble(foo = tibble(bar = tibble(x = 1:3, y = 4:6)))

vec_rbind(df1, df2)
#&gt; Error: No common type for `..1$foo$bar$y` &lt;character&gt; and `..2$foo$bar$y` &lt;integer&gt;.</code></pre>
</li>
<li>
<p><code><a href="../reference/vec_bind.html">vec_cbind()</a></code> now turns named data frames to packed columns.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>data &lt;-<span class="st"> </span>tibble<span class="op">::</span><span class="kw"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span>(<span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dt">y =</span> letters[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>])</span>
<span id="cb6-2"><a href="#cb6-2"></a>data &lt;-<span class="st"> </span><span class="kw"><a href="../reference/vec_bind.html">vec_cbind</a></span>(data, <span class="dt">packed =</span> data)</span>
<span id="cb6-3"><a href="#cb6-3"></a>data</span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="co"># A tibble: 3 x 3</span></span>
<span id="cb6-5"><a href="#cb6-5"></a>      x y     packed<span class="op">$</span>x <span class="op">$</span>y</span>
<span id="cb6-6"><a href="#cb6-6"></a>  <span class="op">&lt;</span>int<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">    </span><span class="er">&lt;</span>int<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span></span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="dv">1</span>     <span class="dv">1</span> a            <span class="dv">1</span> a</span>
<span id="cb6-8"><a href="#cb6-8"></a><span class="dv">2</span>     <span class="dv">2</span> b            <span class="dv">2</span> b</span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="dv">3</span>     <span class="dv">3</span> c            <span class="dv">3</span> c</span></code></pre></div>
<p>Packed data frames are nested in a single column. This makes it possible to access it through a single name:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>data<span class="op">$</span>packed</span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="co"># A tibble: 3 x 2</span></span>
<span id="cb7-3"><a href="#cb7-3"></a>      x y</span>
<span id="cb7-4"><a href="#cb7-4"></a>  <span class="op">&lt;</span>int<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span></span>
<span id="cb7-5"><a href="#cb7-5"></a><span class="dv">1</span>     <span class="dv">1</span> a</span>
<span id="cb7-6"><a href="#cb7-6"></a><span class="dv">2</span>     <span class="dv">2</span> b</span>
<span id="cb7-7"><a href="#cb7-7"></a><span class="dv">3</span>     <span class="dv">3</span> c</span></code></pre></div>
<p>We are planning to use this syntax more widely in the tidyverse.</p>
</li>
<li>
<p>New <code><a href="../reference/vec_assert.html">vec_is()</a></code> function to check whether a vector conforms to a prototype and/or a size. Unlike <code><a href="../reference/vec_assert.html">vec_assert()</a></code>, it doesnât throw errors but returns <code>TRUE</code> or <code>FALSE</code> (<a href='https://github.com/r-lib/vctrs/issues/79'>#79</a>).</p>
<p>Called without a specific type or size, <code><a href="../reference/vec_assert.html">vec_assert()</a></code> tests whether an object is a data vector or a scalar. S3 lists are treated as scalars by default. Implement a <code>vec_is_vector()</code> for your class to override this property (or derive from <code>vctrs_vctr</code>).</p>
</li>
<li><p>New <code><a href="../reference/vec_order.html">vec_order()</a></code> and <code><a href="../reference/vec_order.html">vec_sort()</a></code> for ordering and sorting generalised vectors.</p></li>
<li><p>New <code>.names_to</code> parameter for <code><a href="../reference/vec_bind.html">vec_rbind()</a></code>. If supplied, this should be the name of a column where the names of the inputs are copied. This is similar to the <code>.id</code> parameter of <code><a href="https://dplyr.tidyverse.org/reference/bind.html">dplyr::bind_rows()</a></code>.</p></li>
<li><p>New <code><a href="../reference/vec_seq_along.html">vec_seq_along()</a></code> and <code><a href="../reference/vec_seq_along.html">vec_init_along()</a></code> create useful sequences (<a href='https://github.com/r-lib/vctrs/issues/189'>#189</a>).</p></li>
<li><p><code><a href="../reference/vec_slice.html">vec_slice()</a></code> now preserves character row names, if present.</p></li>
<li><p>New <code><a href="../reference/vec_split.html">vec_split(x, by)</a></code> is a generalisation of <code><a href="https://rdrr.io/r/base/split.html">split()</a></code> that can divide a vector into groups formed by the unique values of another vector. Returns a two-column data frame containing unique values of <code>by</code> aligned with matching <code>x</code> values (<a href='https://github.com/r-lib/vctrs/issues/196'>#196</a>).</p></li>
</ul>
</div>
<div id="other-features-and-bug-fixes" class="section level2">
<h2 class="hasAnchor">
<a href="#other-features-and-bug-fixes" class="anchor"></a>Other features and bug fixes</h2>
<ul>
<li><p>Using classed errors of class <code>"vctrs_error_assert"</code> for failed assertions, and of class <code>"vctrs_error_incompatible"</code> (with subclasses <code>_type</code>, <code>_cast</code> and <code>_op</code>) for errors on incompatible types (<a href='https://github.com/r-lib/vctrs/issues/184'>#184</a>).</p></li>
<li><p>Character indexing is now only supported for named objects, an error is raised for unnamed objects (<a href='https://github.com/r-lib/vctrs/issues/171'>#171</a>).</p></li>
<li><p>Predicate generics now consistently return logical vectors when passed a <code>vctrs_vctr</code> class. They used to restore the output to their input type (<a href='https://github.com/r-lib/vctrs/issues/251'>#251</a>).</p></li>
<li><p><code><a href="../reference/list_of.html">list_of()</a></code> now has an <code><a href="https://rdrr.io/r/base/character.html">as.character()</a></code> method. It uses <code><a href="../reference/vec_ptype_full.html">vec_ptype_abbr()</a></code> to collapse complex objects into their type representation (tidyverse/tidyr<a href='https://github.com/r-lib/vctrs/issues/654'>#654</a>).</p></li>
<li><p>New <code><a href="../reference/vctrs-conditions.html">stop_incompatible_size()</a></code> to signal a failure due to mismatched sizes.</p></li>
<li><p>New <code><a href="../reference/list_of.html">validate_list_of()</a></code> (<a href='https://github.com/r-lib/vctrs/issues/193'>#193</a>).</p></li>
<li><p><code><a href="../reference/vec_arith.html">vec_arith()</a></code> is consistent with base R when combining <code>difftime</code> and <code>date</code>, with a warning if casts are lossy (<a href='https://github.com/r-lib/vctrs/issues/192'>#192</a>).</p></li>
<li><p><code><a href="../reference/vec_c.html">vec_c()</a></code> and <code><a href="../reference/vec_bind.html">vec_rbind()</a></code> now handle data.frame columns properly (<a href='https://github.com/yutannihilation'>@yutannihilation</a>, <a href='https://github.com/r-lib/vctrs/issues/182'>#182</a>).</p></li>
<li><p><code><a href="../reference/vec_cast.html">vec_cast(x, data.frame())</a></code> preserves the number of rows in <code>x</code>.</p></li>
<li><p><code><a href="../reference/vec_equal.html">vec_equal()</a></code> now handles missing values symmetrically (<a href='https://github.com/r-lib/vctrs/issues/204'>#204</a>).</p></li>
<li><p><code><a href="../reference/vec_equal.html">vec_equal_na()</a></code> now returns <code>TRUE</code> for data frames and records when every component is missing, not when <em>any</em> component is missing (<a href='https://github.com/r-lib/vctrs/issues/201'>#201</a>).</p></li>
<li><p><code><a href="../reference/vec_init.html">vec_init()</a></code> checks input is a vector.</p></li>
<li><p><code><a href="../reference/vec_proxy_compare.html">vec_proxy_compare()</a></code> gains an experimental <code>relax</code> argument, which allows data frames to be orderable even if all their columns are not (<a href='https://github.com/r-lib/vctrs/issues/210'>#210</a>).</p></li>
<li><p><code><a href="../reference/vec_size.html">vec_size()</a></code> now works with positive short row names. This fixes issues with data frames created with jsonlite (<a href='https://github.com/r-lib/vctrs/issues/220'>#220</a>).</p></li>
<li><p><code>vec_slice&lt;-</code> now has a <code><a href="../reference/vec_slice.html">vec_assign()</a></code> alias. Use <code><a href="../reference/vec_slice.html">vec_assign()</a></code> when you donât want to modify the original input.</p></li>
<li><p><code><a href="../reference/vec_slice.html">vec_slice()</a></code> now calls <code><a href="../reference/vec_cast.html">vec_restore()</a></code> automatically. Unlike the default <code><a href="https://rdrr.io/r/base/Extract.html">[</a></code> method from base R, attributes are preserved by default.</p></li>
<li><p><code><a href="../reference/vec_slice.html">vec_slice()</a></code> can correct slice 0-row data frames (<a href='https://github.com/r-lib/vctrs/issues/179'>#179</a>).</p></li>
<li><p>New <code><a href="../reference/vec_repeat.html">vec_repeat()</a></code> for repeating each element of a vector the same number of times.</p></li>
<li><p><code><a href="../reference/vec_type.html">vec_type2(x, data.frame())</a></code> ensures that the returned object has names that are a length-0 character vector.</p></li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div id="tocnav">
      <h2>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
        <li><a href="#vctrs-development-version">development version</a></li>
        <li><a href="#vctrs-024">0.2.4</a></li>
        <li><a href="#vctrs-023">0.2.3</a></li>
        <li><a href="#vctrs-022">0.2.2</a></li>
        <li><a href="#vctrs-021">0.2.1</a></li>
        <li><a href="#vctrs-020">0.2.0</a></li>
      </ul>
    </div>
  </div>

</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='http://hadley.nz'>Hadley Wickham</a>, Lionel Henry, Davis Vaughan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


